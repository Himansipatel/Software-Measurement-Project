<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 16 February 2019
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190216" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Apache Commons &#x2013; Apache Commons Parent pom.xml</title>

	<link rel="stylesheet" href="http://commons.apache.org/css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="http://commons.apache.org/css/site.css" type="text/css" />
    <link rel="stylesheet" href="http://commons.apache.org/css/print.css" media="print" />

	<script type="text/javascript" src="http://commons.apache.org/js/jquery.min.js"></script>
	<script type="text/javascript" src="http://commons.apache.org/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="http://commons.apache.org/js/prettify.min.js"></script>
	<script type="text/javascript" src="http://commons.apache.org/js/site.js"></script>

    
      </head>

	<body class="composite">
                                        <a href="index.html" id="bannerLeft" title="Apache Commons logo">
                                                                                                <img class="logo-left" src="http://commons.apache.org/images/commons-logo.png"  alt="Apache Commons logo"/>
                </a>
                		<div class="clear"></div>

		<div class="navbar">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="brand" href="index.html">Apache Commons &trade;</a>
					<ul class="nav">      
                    
            <li id="publishDate">Last Published: 16 February 2019</li>
      <li class="divider">|</li> <li id="projectVersion">Version: 19</li>
  </ul>
                    <div class="pull-right">	<ul class="nav">
						<li>
		              <a href="components.html" title="Components">
    Components</a>
  		</li>
					<li>
		              <a href="sandbox.html" title="Sandbox">
    Sandbox</a>
  		</li>
					<li>
		              <a href="dormant.html" title="Dormant">
    Dormant</a>
  		</li>
					<li>
		              <a href="http://www.apachecon.com/" class="externalLink" title="ApacheCon">
    ApacheCon</a>
  		</li>
					<li>
		              <a href="http://www.apache.org" class="externalLink" title="Apache">
    Apache</a>
  		</li>
		</ul>
</div>
				</div>
			</div>
		</div>

		<div class="container-fluid">
			<table class="layout-table">
				<tr>
					<td class="sidebar">
						<div class="well sidebar-nav">
										<ul class="nav nav-list">
		 		            						 <li class="nav-header">Commons</li>
																				<li class="none">
		              <a href="http://commons.apache.org/index.html" title="Home">
    Home</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/licenses/" class="externalLink" title="License">
    License</a>
  				</li>
 														<li class="none">
		              <a href="http://commons.apache.org/mail-lists.html" title="Mailing Lists">
    Mailing Lists</a>
  				</li>
 														<li class="none">
		              <a href="http://commons.apache.org/team-list.html" title="PMC">
    PMC</a>
  				</li>
 																		                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            								<li class="collapsed">
		              <a href="components.html" title="Components">
    Components</a>
  									</li>
 																		                                                                                                                                                                                                                                                                                                                          								<li class="collapsed">
		              <a href="sandbox.html" title="Sandbox">
    Sandbox</a>
  									</li>
 																		                                                                                                                                                                                                                                                                                                                                                                                                                                      								<li class="collapsed">
		              <a href="dormant.html" title="Dormant">
    Dormant</a>
  									</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">Releases</li>
																				<li class="none">
		              <a href="http://commons.apache.org/downloads/index.html" title="Releases">
    Releases</a>
  				</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">Source Repositories</li>
																				<li class="none">
		              <a href="http://commons.apache.org/svninfo.html" title="General Information">
    General Information</a>
  				</li>
 														<li class="none">
		              <a href="http://svn.apache.org/viewvc/commons/proper/" class="externalLink" title="Components">
    Components</a>
  				</li>
 														<li class="none">
		              <a href="http://svn.apache.org/viewvc/commons/sandbox/" class="externalLink" title="Sandbox">
    Sandbox</a>
  				</li>
 														<li class="none">
		              <a href="http://svn.apache.org/viewvc/commons/dormant/" class="externalLink" title="Dormant">
    Dormant</a>
  				</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">General Information</li>
																				<li class="none">
		              <a href="security.html" title="Security">
    Security</a>
  				</li>
 														<li class="none">
		              <a href="volunteering.html" title="Volunteering">
    Volunteering</a>
  				</li>
 														<li class="none">
		              <a href="patches.html" title="Contributing Patches">
    Contributing Patches</a>
  				</li>
 														<li class="none">
		              <a href="building.html" title="Building Components">
    Building Components</a>
  				</li>
 															<li class="none active">
		              <a href="commons-parent-pom.html" title="Commons Parent Pom">
    Commons Parent Pom</a>
  				</li>
 														<li class="none">
		              <a href="proper/commons-build-plugin/index.html" title="Commons Build Plugin">
    Commons Build Plugin</a>
  				</li>
 														<li class="none">
		              <a href="http://commons.apache.org/release-plugin/index.html" title="Commons Release Plugin">
    Commons Release Plugin</a>
  				</li>
 														<li class="none">
		              <a href="http://commons.apache.org/site-publish.html" title="Site Publication">
    Site Publication</a>
  				</li>
 														<li class="none">
		              <a href="releases/index.html" title="Releasing Components">
    Releasing Components</a>
  				</li>
 														<li class="none">
		              <a href="http://wiki.apache.org/commons/FrontPage" class="externalLink" title="Wiki">
    Wiki</a>
  				</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">ASF</li>
																				<li class="none">
		              <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">
    How the ASF works</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/getinvolved.html" class="externalLink" title="Get Involved">
    Get Involved</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/dev/" class="externalLink" title="Developer Resources">
    Developer Resources</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/policies/conduct.html" class="externalLink" title="Code of Conduct">
    Code of Conduct</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">
    Sponsorship</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">
    Thanks</a>
  				</li>
 								</ul>
							</div>
						<div id="poweredBy">
							                                                                                                      <a href="http://www.apache.org/events/current-event.html" title="ApacheCon" class="builtBy">
        <img class="builtBy"  alt="ApacheCon" src="http://www.apache.org/events/current-event-125x125.png"    />
      </a>
                                                                                                    <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
          						</div>
					</td>
					<td class="content">
						<!-- Licensed to the Apache Software Foundation (ASF) under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The ASF licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License. -->
 
 

    <div class="section">
<h2><a name="commons-parent"></a>commons-parent</h2>

      
<p>
        This page provides information about the
        <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
        <tt>pom.xml</tt>
        <br />
        It has been updated for version 46 of the pom (but some discrepancies may remain).
        Please consult <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/tags/commons-parent-46/">version 46 source</a>
        in case of doubt.
        <br />
        Release Notes for <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/tags/commons-parent-46/RELEASE-NOTES.txt">version 46</a>
      </p>

      
<p>
        Commons <a href="components.html">components</a> use <a class="externalLink" href="http://maven.apache.org/">Maven</a> as their primary build
        system and <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
        is the <i>parent pom</i> for the components' <a class="externalLink" href="http://maven.apache.org/">Maven</a> build.
      </p>

      
<p>
        Using a <i>parent pom</i> reduces the build configuration required for each individual
        component and <i>standardizes</i> the builds across Commons components.
      </p>

      
<div class="section">
<h3><a name="Build"></a>Build</h3>
        
<p>
          The following is a list of the main <i>build</i> features provided by
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>:
        </p>
        
<ul>
          
<li>
            <b>Reproducible Build</b> - It is important that builds are consistently <i>reproducible</i>
            and in order to achieve this with Maven the same <a class="externalLink" href="http://maven.apache.org/plugins/">Plugin</a>
            versions need to be used each time.
            <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
            specifies the Plugin versions to be used in the <tt>&lt;pluginManagement&gt;</tt> section.
            
<ul>
              
<li>
                (<b>N.B.</b> the <tt>&lt;reporting&gt;</tt> section ignores anything specified in the
                <tt>&lt;pluginManagement&gt;</tt> section and component pom.xml's should specify the version of
                any additional report plugins they specify).
              </li>
            </ul>
          </li>
          
<li>
            <b><tt>LICENSE</tt> and <tt>NOTICE</tt> files</b> - automatically added to the jar files
            produced by the build to conform with the <a class="externalLink" href="http://www.apache.org/dev/release.html#license">ASF License Policy</a>.
          </li>
          
<li>
            <b><tt>MANIFEST.MF</tt> files</b> - The following information is automatically included in the componentjar's manifest file:
            
<ul>
              
<li><tt>Implementation-Title</tt> - set to the component's name</li>
              
<li><tt>Implementation-Vendor</tt> - set to <i>The Apache Software Foundation</i></li>
              
<li><tt>Implementation-Vendor-Id</tt> - set to <tt>org.apache</tt></li>
              
<li><tt>Implementation-Version</tt> - set to the component version</li>
              
<li><tt>Specification-Title</tt> - set to the component's name</li>
              
<li><tt>Specification-Vendor</tt> - set to <i>The Apache Software Foundation</i></li>
              
<li><tt>Specification-Version</tt> - set to the component version</li>
              
<li><tt>X-Compile-Source-JDK</tt> - set to the <i>source</i> option used by the compiler</li>
              
<li><tt>X-Compile-Target-JDK</tt> - set to the <i>target</i> option used by the compiler</li>
            </ul>
          </li>
          
<li>
            <b><a href="commons-parent-pom.html#OSGi_Information">OSGi Enabled</a></b> - OSGi <i>metadata</i> is automatically
            included in the component jar's manifest file enabling commons components to be used in an
            <a class="externalLink" href="http://felix.apache.org/">OSGi container</a>. The following manifest entries are generated by
            default:
            
<ul>
              
<li><tt>Bundle-Name</tt> - set to the component's name</li>
              
<li><tt>Bundle-Vendor</tt> - set to <i>The Apache Software Foundation</i></li>
              
<li><tt>Bundle-Version</tt> - set to the component version</li>
              
<li><tt>Bundle-ManifestVersion</tt> - set to <b>2</b></li>
              
<li><tt>Bundle-License</tt> - set to <tt>http://www.apache.org/licenses/LICENSE-2.0.txt</tt></li>
              
<li><tt>Bundle-Description</tt> - set to the component's description</li>
              
<li><tt>Bundle-SymbolicName</tt> - set to the component's package name (e.g. <tt>org.apache.commons.beanutils</tt>)</li>
              
<li><tt>Bundle-DocURL</tt> - set to the component's website URL</li>
              
<li><tt>Export-Package</tt> - set to the component's package names (can be overriden)</li>
              
<li><tt>Import-Package</tt> - set to the package names of the component's dependencies</li>
            </ul>
          </li>
          
<li>
            <b><a href="commons-parent-pom.html#Java_Version">Java Version</a></b> - <tt>source</tt> and <tt>target</tt>
            options can be configured through <i>properties</i>, and <i>profiles</i> are provided to test on
            different Java versions.
            Where necessary, plugin versions are down-graded to the latest version that runs on earlier JVMs. If later Java versions
            require updated plugins, this is done in a conditional profile (<i>jdk7-plugin-fix-version</i>).
          </li>
          
<li>
            <b><a href="commons-parent-pom.html#Testing_Coverage">Testing Coverage</a></b> - both <tt>Jacoco</tt> and <tt>Cobertura</tt>
            are supported. These can be independently enabled.
          </li>
          
<li>
            <b><a href="commons-parent-pom.html#Source_Compatibility">Source Compatibility</a></b> - both <tt>japicmp</tt> and <tt>clirr</tt>
            are supported. These can be independently enabled.
          </li>
        </ul>
      </div>

      
<div class="section">
<h3><a name="Release"></a>Release</h3>
        
<p>
          The following is a list of the main <i>release</i> features provided by
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
          through the <a href="commons-parent-pom.html#release_profile">release</a> profile.
        </p>
        
<ul>
          
<li>
            <b>Binary and Source distributions</b>
          </li>
          
<li>
            <b>Signatures and Checksums</b>
          </li>
          
<li>
            <b>Javadoc and source jars</b>
          </li>
        </ul>

        
<p>
          Additionally the <a class="externalLink" href="http://incubator.apache.org/rat/">RAT</a> (release audit) report is automatically
          produced when  generating a component's site. The <a class="externalLink" href="http://incubator.apache.org/rat/">RAT</a> report
          checks the source files for appropriate <a class="externalLink" href="http://www.apache.org/legal/src-headers.html">License Headers</a>.
        </p>

        
<p><b>Commons Release Plugin.</b></p>

        
<p>
          By default in the parent, the <a href="http://commons.apache.org/proper/commons-release-plugin/index.html">commons-release-plugin</a>
          is disabled as to not stop folks' release practices. That said, for people interested in configuring the
          newly released (April 2018) release plugin, one needs to configure the following properties, for single
          module builds:
          </p>
<div>
<pre class="prettyprint">
&lt;properties&gt;
    &lt;commons.release.isDistModule&gt;true&lt;/commons.release.isDistModule&gt;
    &lt;commons.distSvnStagingUrl&gt;scm:svn:https://dist.apache.org/repos/dist/dev/commons/foo&lt;/commons.distSvnStagingUrl&gt;
&lt;/properties&gt;</pre></div>
          where <tt>foo</tt> represents our component. Furthermore, during a release build, we ask that the svn
          folder be empty. We then generate our release build by runnning:
          
<div>
<pre>
mvn -Duser.name=${my_apache_id} -Prelease -Ptest-deploy clean package site deploy</pre></div>
          to test our deployment. Note, all of the staged items end up in
          <tt>target/commons-release-plugin/scm</tt>. And, to perform a full release, we run:
          
<div>
<pre>
mvn -Duser.name=${my_apache_id} -Prelease clean package site deploy</pre></div>
          Using the release plugin should build and stage the non-assembly built artifacts to Nexus, and stage
          the assemblies to the svn location along with the site and the <tt>RELEASE-NOTES.txt</tt> from the
          root of the project.
        
      </div>

      
<div class="section">
<h3><a name="Site_Generation"></a>Site Generation</h3>
        
<p>
          The following is a list of the main <i>site</i> features provided by
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>:
        </p>
        
<ul>
          
<li>
            <b>Standard Style and Navigation</b> - commons-parent has a
            <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/src/site/site.xml">site.xml</a>
            which is <i>inherited</i> by each component's site and provides standard <i>Menu/Navigation</i> and <i>styling</i>.
            
<ul>
              
<li><b>Menu/Navigation</b> - The menu and breadcrumb options specified in the commons-parent's
                  <tt>site.xml</tt> are included in the component's site.
              </li>
              
<li><b>Style</b> - The commons-parent's <tt>site.xml</tt> specifies the
                  <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-skin/trunk/">commons-skin</a>
                  so that component's sites use a standard style and commons logo.
              </li>
            </ul>
          </li>
          
<li>
            <b>Common Information</b>
            
<ul>
              
<li><b>Mailing Lists</b> - Mailing list information is specified in commons-parent and Maven automatically
                  generates a standard <a href="http://commons.apache.org/mail-lists.html">Mailing List page</a> for each compoenent.</li>
              
<li><b>Organization Name</b> - <i>The Apache Software Foundation</i> (inherited from the Apache Parent pom).</li>
            </ul>
          </li>
          
<li>
            <b>Standard Reports</b> - The following reports are configured
            
<ul>
              
<li><b><a class="externalLink" href="http://incubator.apache.org/rat/">RAT</a> (release audit) Report</b> - reports on the
                  presence/absence of appropriate <a class="externalLink" href="http://www.apache.org/legal/src-headers.html">License Headers</a> in
                  source files.
              </li>
              
<li><b><a class="externalLink" href="https://siom79.github.io/japicmp/">Japicmp</a> Report</b> - reports are only generated when a jar file has been produced
                  by the build, so <tt>mvn clean site</tt> will produce an empty japicmp report, whereas
                  <tt>mvn clean package site</tt> will produce a full report. Furthermore, in building pom
                  only modules, japicmp has a tendency to print out a stacktrace under the pretense of a warning
                  because it does not understand how to properly skip such a module.
              </li>
              
<li><b>Surefire Report</b></li>
              
<li><b>Javadocs</b></li>
              
<li><b>Source Cross Reference</b></li>
              The pom excludes Maven defaults such as the <tt>license</tt> report which is against the ASF branding rules.
              The following are currently included by default (components can add extra ones if they wish, but cannot remove them).
              
<ul>
                
<li><tt>index</tt></li>
                
<li><tt>summary</tt></li>
                
<li><tt>modules</tt></li>
                
<li><tt>project-team</tt></li>
                
<li><tt>scm</tt></li>
                
<li><tt>issue-tracking</tt></li>
                
<li><tt>mailing-list</tt></li>
                
<li><tt>dependency-info</tt></li>
                
<li><tt>dependency-management</tt></li>
                
<li><tt>dependencies</tt></li>
                
<li><tt>dependency-convergence</tt></li>
                
<li><tt>cim</tt></li>
                
<li><tt>distribution-management</tt></li>
              </ul>
            </ul>
          </li>
          
<li>
            <b>Custom Issue Tracking Page</b> - The
            <a class="externalLink" href="http://commons.apache.org/commons-build-plugin/">commons-build-plugin</a> provides a mechanism to
            generate a <i>custom</i> issue tracking page for commons components. See 
            <a class="externalLink" href="http://commons.apache.org/commons-build-plugin/jira-page.html">here</a> for details of
            how to configure the component's pom and generate the page.
          </li>
          
<li>
            <b>Download Page</b> - The
            <a class="externalLink" href="http://commons.apache.org/commons-build-plugin/">commons-build-plugin</a> provides a mechanism to
            generate a <i>download page</i> for the latest release of a component. See
            <a class="externalLink" href="http://commons.apache.org/commons-build-plugin/download-page.html">here</a>
            for details of how to configure the component's pom and generate the page.
          </li>
        </ul>
      </div>

    </div>

    
<div class="section">
<h2><a name="Java_Version"></a>Java Version</h2>

      
<div class="section">
<h3><a name="Configuring_the_Java_SourceTarget_options"></a>Configuring the Java Source/Target options</h3>
        
<p>
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
          configures the <tt>source</tt> and <tt>target</tt> options in the 
          <a class="externalLink" href="http://maven.apache.org/plugins/maven-compiler-plugin/">maven-compiler-plugin</a> to use the
          <tt>${maven.compiler.source}</tt> and <tt>${maven.compiler.target}</tt> properties
          respectively.
        </p>
        
<p>
          So, for example, to configure a component to have <i>source/target</i> set to <i>1.4</i> add the following
          lines to the component's <tt>pom.xml</tt>:
        </p>
        
<div class="source">
<pre>
          &lt;properties&gt;
              &lt;maven.compiler.source&gt;1.4&lt;/maven.compiler.source&gt;
              &lt;maven.compiler.target&gt;1.4&lt;/maven.compiler.target&gt;
          &lt;/properties&gt; 
        </pre></div>
          <b>NOTE:</b> the Maven compiler plugin defaults to using the properties
          <tt>${maven.compiler.source}</tt> and <tt>${maven.compiler.target}</tt>; however the
          Commons Parent POM originally incorrectly used &quot;.compile.&quot; rather than &quot;.compiler.&quot;
          This was fixed in version 31 of the Commons Parent pom.
          See https://issues.apache.org/jira/browse/COMMONSSITE-69
            </div>

      
<div class="section">
<h3><a name="MANIFEST.MF"></a>MANIFEST.MF</h3>
        
<p>
          In order to help check what source/target options were used when building a release, the property values used to
          configure the <i>source/target</i> options in the 
          <a class="externalLink" href="http://maven.apache.org/plugins/maven-compiler-plugin/">maven-compiler-plugin</a>
          (i.e. <tt>${maven.compiler.source}</tt> and <tt>${maven.compiler.target}</tt>) are also written
          out to the component jar's <tt>MANIFEST.MF</tt> file with the following header names:
        </p>
        
<div class="source">
<pre>
            X-Compile-Source-JDK:
            X-Compile-Target-JDK:
        </pre></div>
      </div>

      
<div class="section">
<h3><a name="Testing_with_different_Java_versions"></a>Testing with different Java versions</h3>
        
<p>
          Using the <i>target</i> option ensures that the <tt>.class</tt> file format is compatible with
          the required Java version - but it does not prevent/catch the use of methods/classes which were
          introduced in later Java versions (this is because the build will use the current Java libraries by default).
          One way to ensure that components don't accidentally use classes/methods from a later
          version of Java is to compile and test using the actual target Java version.
        </p>
        
<p>
          However, it may be that one or more Maven  plugins require a later version of Java than the component.
          For this reason
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
          provides <i>profiles</i> for compiling/testing under different Java versions (correct as of version 36):
        </p>
        
<ul>
            
<li><tt>java-1.3</tt> for compiling and testing using Java 1.3 (uses property JAVA_1_3_HOME)</li>
            
<li><tt>java-1.4</tt> for compiling and testing using Java 1.4 (uses property JAVA_1_4_HOME)</li>
            
<li><tt>java-1.5</tt> for compiling and testing using Java 1.5 (uses property JAVA_1_5_HOME)</li>
            
<li><tt>java-1.6</tt> for compiling and testing using Java 1.6 (uses property JAVA_1_6_HOME)</li>
            
<li><tt>java-1.7</tt> for compiling and testing using Java 1.7 (uses property JAVA_1_7_HOME)</li>
            
<li><tt>java-1.8</tt> for compiling and testing using Java 1.8 (uses property JAVA_1_8_HOME)</li>
            
<li><tt>java-1.9</tt> for compiling and testing using Java 1.9 (uses property JAVA_1_9_HOME)</li>
        </ul>
        
<p>
          In order for these profiles to work, you need to configure the relevant <tt>JAVA_1_N_HOME</tt>
          properties in your <tt>settings.xml</tt> file.
          [There is no need to configure properties for profiles you don't need.]
          Each property should be set to the <tt>directory</tt> where the relevant version of the JDK is installed.
          Note: the Maven compiler plugin has 
          <a class="externalLink" href="http://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html">documentation on how this works</a>.
        </p>
        
<p>
          <b>Note:</b> the <a class="externalLink" href="http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html">maven-bundle-plugin</a>
          outputs all property values which start with a capital letter as headers to the jar's <tt>MANIFEST.MF</tt> file.
          The commons-parent pom uses the &lt;_removeheaders&gt; instruction to suppress the specific JAVA_* properties used by the pom.
        </p>
        
<p>
          To ensure that the properties are only present if they are actually needed, you can
          define the property in the relevant profile in your <tt>settings.xml</tt>, for example:
        </p>
        
<div class="source">
<pre>
        &lt;settings&gt;
            &lt;profiles&gt;
                &lt;!-- Sample profiles showing different ways of defining the properties --&gt;
                &lt;profile&gt;
                    &lt;id&gt;java-1.5&lt;/id&gt;
                    &lt;properties&gt;
                        &lt;!-- sample Windows definition --&gt;
                        &lt;JAVA_1_5_HOME&gt;C:\jdk1.5.0_22&lt;/JAVA_1_5_HOME&gt;
                    &lt;/properties&gt;
                &lt;/profile&gt;
                &lt;profile&gt;
                    &lt;id&gt;java-1.6&lt;/id&gt;
                    &lt;properties&gt;
                        &lt;!-- Sample Unix definition --&gt;
                        &lt;JAVA_1_6_HOME&gt;/home/jenkins/tools/java/latest1.6&lt;/JAVA_1_6_HOME&gt;
                    &lt;/properties&gt;
                &lt;/profile&gt;
                &lt;profile&gt;
                    &lt;id&gt;java-1.7&lt;/id&gt;
                    &lt;properties&gt;
                        &lt;!-- sample definition using an OS environment variable --&gt;
                        &lt;JAVA_1_7_HOME&gt;${env.JAVA_1_7_HOME}&lt;/JAVA_1_7_HOME&gt;
                    &lt;/properties&gt;
                &lt;/profile&gt;
                &lt;!-- No need to define every possible java profile, only the ones you want to use (and have JDKs for) --&gt;
            &lt;/profiles&gt;
        &lt;/settings&gt;
        </pre></div>
        
<p>
          An alternative is to define the home directories as OS environment variables.
          For example:
          </p>
<div class="source">
<pre>
          JAVA_1_8_HOME=$(/usr/libexec/java_home -v 1.8) # MacOS only
          JAVA_1_8_HOME=/path/to/java8/home # Other Unix OSes
          export JAVA_1_8_HOME
          </pre></div>
        
        
<p>
          Once you have configured settings.xml or defined the OS variables you can, for example, compile and test with Java 1.6 using the following command:
        </p>
        
<div class="source">
<pre>
            mvn clean test -Pjava-1.6
        </pre></div>
        
<p>
        You can also provide the appropriate property definition on the command-line.
        (However for frequent use it is easier to update the settings file or ensure the OS defines the appropriate variables)
        This overrides any property setting in the settings.xml file, which in turn overrides the OS environment variable.
        For example:
        </p>
        
<div class="source">
<pre>
            mvn clean test -Pjava-1.6 -DJAVA_1_6_HOME=/home/jenkins/tools/java/latest1.6
        </pre></div>
      </div>

    </div>

    
<div class="section">
<h2><a name="OSGi_Information"></a>OSGi Information</h2>

      
<div class="section">
<h3><a name="OSGi_Metadata"></a>OSGi Metadata</h3>
        
<p>
          In order to use a Commons component (or any libaray) in an 
          <a class="externalLink" href="http://www.osgi.org/">OSGi</a> container (for example
          <a class="externalLink" href="http://felix.apache.org/">Apache Felix</a>) then OSGi
          <i>metadata</i> needs to be included in the <tt>MANIFEST.MF</tt>
          file of the component's <i>jar</i>.
        </p>
      </div>

      
<div class="section">
<h3><a name="Generating_the_OSGi_Metadata"></a>Generating the OSGi Metadata</h3>
        
<p>
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
          is configured to automatically add the OSGi <i>metadata</i> to the component jar's <tt>MANIFEST.MF</tt>
          using the <a class="externalLink" href="http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html">
          maven-bundle-plugin</a> when the <i>package</i> phase is executed:
        </p>

        
<div class="source">
<pre>mvn package</pre></div>

        
<p>
          Most components only need to configure the <tt>&lt;commons.componentid&gt;</tt>
          property in their <tt>pom.xml</tt> in the following way:
        </p>

        
<div class="source">
<pre>
          &lt;properties&gt;
              &lt;commons.componentid&gt;beanutils&lt;/commons.componentid&gt;
          &lt;/properties&gt; 
        </pre></div>

      </div>

      
<div class="section">
<h3><a name="Custom_OSGi_configuration"></a>Custom OSGi configuration</h3>
        
<p>
          There are a number of other <i>OSGi</i> properties in the commons-parent
          <tt>pom.xml</tt> which are used to configure the <tt>maven-bundle-plugin</tt>.
          These have sensible defaults, but can be <i>overriden</i> in a component's
          <tt>pom.xml</tt> if required. These are:
          </p>
<ul>
             
<li>The <b><tt>&lt;commons.osgi.symbolicName&gt;</tt></b> property configures the
                <b><tt>&lt;Bundle-SymbolicName&gt;</tt></b> instruction</li>
             
<li>The <b><tt>&lt;commons.osgi.export&gt;</tt></b> property configures the
                <b><tt>&lt;Export-Package&gt;</tt></b> instruction</li>
             
<li>The <b><tt>&lt;commons.osgi.private&gt;</tt></b> property configures the
                <b><tt>&lt;Private-Package&gt;</tt></b> instruction</li>
             
<li>The <b><tt>&lt;commons.osgi.import&gt;</tt></b> property configures the
                <b><tt>&lt;Import-Package&gt;</tt></b> instruction</li>
             
<li>The <b><tt>&lt;commons.osgi.dynamicImport&gt;</tt></b> property configures the
                <b><tt>&lt;DynamicImport-Package&gt;</tt></b> instruction</li>
             
<li>The <b><tt>&lt;commons.osgi.excludeDependencies&gt;</tt></b> should be set to
                 false if the bundle plugin should be able to scan dependency versions and the optional
                 attribute.</li>
          </ul>
        
      </div>

    </div>

    
<div class="section">
<h2><a name="Properties"></a>Properties</h2>

      
<p>
      The parent pom defines many properties. These provide the defaults for various aspects of the pom configuration.
      In most cases, the defaults are the best choice, but in some cases it may be necessary to override the value of a
      property - for example if a new version of a plugin has been released, and the parent POM has not yet been updated.
      </p>

      
<div class="section">
<h3><a name="Overriding_properties"></a>Overriding properties</h3>
      
<p>
      Properties defined in the parent POM can be overriden on the command line, for example:
        </p>
<div class="source">
<pre>mvn apache-rat:rat -Dcommons.rat.version=0.11</pre></div>
      This works best for temporary overrides. For more permanent overrides, just add the new property definition to the
      component POM. Please ensure the override is commented, so it can be removed when no longer necessary.
      
      </div>

      
<div class="section">
<h3><a name="Version_properties"></a>Version properties</h3>
        
<p>
          Most of the plugin versions defined in the parent POM are defined using properties.
          For example, commons.rat.version defines the version of Apache RAT.
          Please see the POM for the list. [The properties are currently located at the end of the POM.]
      </p>
      </div>

      
<div class="section">
<h3><a name="Configuration_properties"></a>Configuration properties</h3>
        
<p>
          There are some properties which control the behaviour of the plugins, for example:
        </p>
        
<ul>
          
<li>commons.changes.onlyCurrentVersion - (default false) change this to true to limit the Jira changes list to the current version (any -SNAPSHOT suffix is ignored) only</li>
          
<li>commons.deployment.protocol - (default scp) some people may prefer &quot;scpexe&quot; </li>
          
<li>minSeverity - (default info) the Clirr minimum severity</li>
          
<li>commons.changes.onlyCurrentVersion - (default false) change this to true to force JIRA changes report to use current version only</li>
          
<li>commons.changes.maxEntries - (default 100) override this to increase the number of JIRAs that can be downloaded (provided the JIRA is configured to all it)</li>
          
<li>commons.changes.runOnlyAtExecutionRoot - (default false) override this to cause the changes report to be run at execution root only</li>
        </ul>
      </div>

    </div>

    
<div class="section">
<h2><a name="Profiles"></a>Profiles</h2>

      
<div class="section">
<h3><a name="Java_profiles"></a>Java profiles</h3>
        
<p>
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
          contains some java profiles to compile/test using different versions of Java.
          See <a href="commons-parent-pom.html#Testing_with_different_Java_versions">here</a> for details of using the Java profiles.
        </p>
      </div>

      
<div class="section">
<h3><a name="jacoco_profile"></a>jacoco profile</h3>
        
<p>
        Enable this profile to run the Jacoco tool.
        This requires at least Java 1.5.
        The profile is not enabled by default.
        If the file <tt>src/site/resources/profile.jacoco</tt> exists then the profile is enabled.
        This allows components to always enable the profile
        </p>
      </div>

      
<div class="section">
<h3><a name="cobertura_profile"></a>cobertura profile</h3>
        
<p>
        Enable this profile to run the Cobertura tool.
        The profile is not enabled by default.
        If the file <tt>src/site/resources/profile.cobertura</tt> exists then the profile is enabled.
        This allows components to always enable the profile
        </p>
      </div>

      
<div class="section">
<h3><a name="japicmp_profile_since_CP41"></a>japicmp profile (since CP41)</h3>
        
<p>
        Enable this profile to run the japicmp cmp goal during the verify phase.  
        If any change breaks source compatibilty, this will fail the build.
        This profile will also generate a source compatibilty report during the site lifecycle.
        This plugin requires building with at least Java 1.7.  (source and target can be lower versions)
        The profile is not enabled by default.
        If the file <tt>src/site/resources/profile.japicmp</tt> exists then the profile is enabled.
        This allows components to always enable the profile
        </p>
      </div>

      
<div class="section">
<h3><a name="clirr_profile_since_CP41"></a>clirr profile (since CP41)</h3>
        
<p>
        Enable this profile to generate the clirr report during the site lifecycle.
        The profile is not enabled by default.
        If the file <tt>src/site/resources/profile.clirr</tt> exists then the profile is enabled.
        This allows components to always enable the profile
        </p>
      </div>

      
<div class="section">
<h3><a name="site-basic_profile_since_CP37"></a>site-basic profile (since CP37)</h3>
        
<p>
        This profile disables as many of the optional reports as it can.
        It is intended for quickly checking the component documentation.
        The following properties are defined:
        </p>
        
<div>
<pre>
        &lt;skipTests&gt;true&lt;/skipTests&gt;
        &lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;
        &lt;cobertura.skip&gt;true&lt;/cobertura.skip&gt;
        &lt;findbugs.skip&gt;true&lt;/findbugs.skip&gt;
        &lt;checkstyle.skip&gt;true&lt;/checkstyle.skip&gt;
        &lt;clirr.skip&gt;true&lt;/clirr.skip&gt;
        &lt;changes.jira.skip&gt;true&lt;/changes.jira.skip&gt;
        &lt;rat.skip&gt;true&lt;/rat.skip&gt; &lt;!-- from version 0.12 --&gt;
        &lt;jacoco.skip&gt;true&lt;/jacoco.skip&gt;
        &lt;skipSurefireReport&gt;true&lt;/skipSurefireReport&gt;</pre></div>
        
<p>
        Individual reports can be re-enabled as follows:
        <tt>mvn site -Psite-basic -Dclirr.skip=false</tt>
        </p>
      </div>

      
<div class="section">
<h3><a name="animal-sniffer_profile_since_CP37"></a>animal-sniffer profile (since CP37)</h3>
        
<p>
        This profile is enabled by default. It runs the Animal Sniffer plugin on the main code during the &quot;process-classes&quot; phase.
        The main code base is checked against the API signature for the compiler target version.
        Restrictions: does not currently check test code; may not find all invalid API usage.
        The code still needs to be built and tested with the target compiler version before a release.
        However it should provide an early warning to developers using a more recent version of Java.
        </p>
        
<p>
        The plugin can be temporarily disabled by using the command-line option <tt>-Danimal.sniffer.skip</tt>.
        It can be completely disabled for a component (not recommended) by creating an empty file: <tt>src/site/resources/profile.noanimal</tt>
        </p>
        
<p>
        The profile creates the property <tt>animal-sniffer.signature</tt> (e.g. java16)
        from the property <tt>maven.compiler.target</tt> (e.g. 1.6). For temporary testing purposes, the 
        property <tt>animal-sniffer.signature</tt> can be overridden on the command-line.
        The configuration for the plugin defines the signature version using the property <tt>commons.animal-sniffer.signature.version</tt>.
        This is defined with the value of <tt>1.0</tt> as almost all signatures are released with that version.
        If necessary, the property can be overridden on the command line or in the component POM.
        [For example, the java16 signature comes in 2 versions].
        The Codehaus website has documentation on the <a class="externalLink" href="http://mojo.codehaus.org/signatures/">available signatures</a>
        </p>
        
<p>
        A simple way to run the check is as follows <tt>mvn process-classes</tt>
        </p>
      </div>

      
<div class="section">
<h3><a name="release_profile"></a>release profile</h3>
        
<p>
          <a class="externalLink" href="http://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/pom.xml">commons-parent</a>
          contains a <tt>release</tt> profile for producing <i>releases</i>.
        </p>

        
<p>
          Running the following command will, in addition to creating the jar as normal, will also:
        </p>
        
<ul>
          
<li>produce the source and binary distributions</li>
          
<li>produce the javadoc and sources jars</li>
        </ul>

        
<div class="source">
<pre>mvn -Prelease package</pre></div>

        
<p>
          You can also combine the <tt>-Prelease</tt> option with <tt>deploy</tt> target and the <tt>-Ptest-deploy</tt>
          profile to simulate staging to the repository.
        </p>
      </div>

      
<div class="section">
<h3><a name="release-notes_profile"></a>release-notes profile</h3>
        
<p>
        This uses the <tt>src/changes.xml</tt> file to generate the file <tt>RELEASE-NOTES.txt</tt>.
        Requires file <tt>src/changes/release-notes.vm</tt>.
        A sample template is available from:
        https://svn.apache.org/repos/asf/commons/proper/commons-parent/trunk/src/changes/release-notes.vm        
        </p>

        
<div class="source">
<pre>mvn changes:announcement-generate -Prelease-notes [-Dchanges.version=nnn]</pre></div>
        
<p>
          Defining changes.version allows one to create the RN without first removing the SNAPSHOT suffix from the POM.
        </p>
      </div>

      
<div class="section">
<h3><a name="javasvn_profile"></a>javasvn profile</h3>
        
<p>
        Optional profile to use javasvn instead of the SVN CLI for the buildNumber plugin
        </p>
      </div>

      
<div class="section">
<h3><a name="Other_profiles_not_intended_for_direct_use"></a>Other profiles, not intended for direct use</h3>
        
<p>
        The pom also includes some helper profiles that are automatically enabled as needed
        </p>
        
<ul>
          
<li><tt>jdk7-plugin-fix-version</tt> - updates plugin versions for use under JDK7 (currently Findbugs and Animal Sniffer)</li>
          
<li><tt>svn-buildnumber</tt> - adds the build number to the manifests; suppress with <tt>-Dbuildnumber.skip</tt></li>
          
<li><tt>parse-target-version</tt> - parses maven.compiler.target into javaTarget.[majorVersion|minorVersion|etc]
          using the <a class="externalLink" href="http://mojo.codehaus.org/build-helper-maven-plugin/parse-version-mojo.html">build-helper:parse-version</a> goal</li>
        </ul>

      </div>

    </div>

  

					</td>
				</tr>
			</table>
		</div>

		<div class="footer">
			<p>Copyright &copy;                    2019
                        <a href="https://www.apache.org/">The Apache Software Foundation</a>.
            All Rights Reserved.</p>
                                                          				
<div class="center">Apache Commons, Apache, the Apache feather logo, and the Apache Commons project logos are trademarks of The Apache Software Foundation.
      All other marks mentioned may be trademarks or registered trademarks of their respective owners.</div>
                          		</div>
	</body>

</html>
